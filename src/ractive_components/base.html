<link rel='ractive' href='./game-header.html'>
<link rel='ractive' href='./game-board.html'>

<div class='uncaged level-{{game.level}}' style='background-image: url(${version}/files/bg/{{game.level+1}}.jpg)'>
	<div class='header-container'>
		<game-header/>
	</div>

	<div class='board-container'>
		<game-board/>
	</div>
</div>

<style>
	.uncaged {
		position: relative;
		width: 100%;
		height: 100%;
		padding: 5em 0 0 0;
		background: url(${version}/files/w27th.png) 50% 50% no-repeat;
		background-size: cover;
	}

	.header-container {
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 5em;
	}

	.board-container {
		width: 100%;
		height: 100%;
	}
</style>

<script>
	component.exports = {
		data: {
			game: {
				level: 0,
				paused: false,
				speed: 1,
				lives: 3,
				score: 0,
				maxVx: 1000,
				highscore: (function () {
					var highscore = 0;

					if ( window.localStorage ) {
						highscore = +( window.localStorage.getItem( 'feilding_uncaged_highscore' ) || 0 );
					}

					return highscore;
				}())
			}
		}
	};
</script>